## 中文

v0.3.2 - 云转录修复与流式优化

### 关键修复

**云提供商转录修复**
- 修复 Groq/SiliconFlow/Qwen 云转录失败问题
- 云提供商直接使用文件转录，不再尝试不支持的流式 API
- 消除误导性的"回退到文件转录"日志消息
- 确保云转录 100% 成功率

**流式转录优化**
- 优化云提供商处理逻辑，避免不必要的流式调用
- 改进本地与云提供商转录路径分离
- 简化回退机制，仅针对本地 chunked 模式

**配置热重载系统**
- 支持转录提供商无缝切换，无需重启应用
- 新增配置变更追踪和迁移系统
- 优化服务重新初始化逻辑

### 主要功能

**本地转录引擎**
- sherpa-onnx 轻量级引擎（安装包 <250MB）
- 双模式流式转录（chunked/realtime）
- 纯 CPU 推理，无需 GPU

**云端转录服务**
- Groq: whisper-large-v3-turbo，快速准确
- SiliconFlow: FunAudioLLM/SenseVoiceSmall
- Qwen ASR: qwen3-asr-flash，极速转录

**智能输入系统**
- 多种输入方式支持
- 增量式文本替换
- 剪贴板智能恢复

### 稳定性改进

**转录可靠性**
- 云提供商 100% 转录成功
- 改进错误处理和用户反馈
- 优化日志输出，减少干扰信息

**配置管理**
- 热重载功能增强
- 配置迁移自动化
- 服务初始化稳定性提升

### 版本对比

| 特性 | v0.3.1 | v0.3.2 |
|------|--------|--------|
| 云转录 | 失败/回退问题 | 100% 成功 |
| 流式处理 | 统一路径 | 本地/云分离 |
| 配置热重载 | 不支持 | 支持 |
| 日志输出 | 误导信息 | 清晰准确 |

### 升级步骤

**推荐所有 v0.3.0/v0.3.1 用户升级**
1. 修复云转录严重 bug，恢复云服务功能
2. 新增配置热重载，提升使用体验
3. 完全向后兼容，无需修改配置

**升级方式**
1. 下载 SonicInput-v0.3.2-win64.exe
2. 关闭旧版本，替换可执行文件
3. 启动应用（配置自动生效）

**注意事项**
- 完全兼容 v0.3.0/v0.3.1 配置
- 无需手动调整任何设置
- 直接替换即可使用

### 系统要求

**最低配置**
- Windows 10 64-bit
- Intel Core i3 或同等 CPU
- 4GB RAM
- 500MB 磁盘空间

**推荐配置**
- Windows 11 64-bit
- Intel Core i5 或 AMD Ryzen 5
- 8GB RAM
- 1GB 磁盘空间

### 技术支持

**配置和日志**
- 配置: `%AppData%\SonicInput\config.json`
- 日志: `%AppData%\SonicInput\logs\app.log`
- 模型: `%AppData%\SonicInput\models/`

**文档**
- [项目 README](README.md)
- [CLAUDE.md](CLAUDE.md) - 开发者文档

**问题反馈**
- GitHub Issues: [提交 Issue](https://github.com/Oxidane-bot/SonicInput/issues)

---

## English

v0.3.2 - Cloud Transcription Fix & Streaming Optimization

### Key Fixes

**Cloud Provider Transcription Fix**
- Fixed Groq/SiliconFlow/Qwen cloud transcription failures
- Cloud providers now use file-based transcription directly, no unsupported streaming API attempts
- Eliminated misleading "falling back to file transcription" log messages
- Ensured 100% cloud transcription success rate

**Streaming Transcription Optimization**
- Optimized cloud provider handling logic, avoiding unnecessary streaming calls
- Improved separation between local and cloud provider transcription paths
- Simplified fallback mechanism, only for local chunked mode

**Config Hot-Reload System**
- Seamless transcription provider switching without app restart
- New config change tracking and migration system
- Optimized service re-initialization logic

### Key Features

**Local Transcription Engine**
- sherpa-onnx lightweight engine (installer <250MB)
- Dual-mode streaming transcription (chunked/realtime)
- Pure CPU inference, no GPU required

**Cloud Transcription Services**
- Groq: whisper-large-v3-turbo, fast and accurate
- SiliconFlow: FunAudioLLM/SenseVoiceSmall
- Qwen ASR: qwen3-asr-flash, ultra-fast transcription

**Smart Input System**
- Multiple input method support
- Incremental text replacement
- Smart clipboard recovery

### Stability Improvements

**Transcription Reliability**
- 100% cloud provider transcription success
- Improved error handling and user feedback
- Optimized log output, reduced noise

**Configuration Management**
- Enhanced hot-reload functionality
- Automated config migration
- Improved service initialization stability

### Version Comparison

| Feature | v0.3.1 | v0.3.2 |
|---------|--------|--------|
| Cloud Transcription | Failure/fallback issues | 100% success |
| Streaming Processing | Unified path | Local/cloud separated |
| Config Hot-Reload | Not supported | Supported |
| Log Output | Misleading info | Clear and accurate |

### Upgrade Steps

**Recommended for All v0.3.0/v0.3.1 Users**
1. Fix critical cloud transcription bug, restore cloud service functionality
2. Add config hot-reload, improve user experience
3. Fully backward compatible, no config changes needed

**Upgrade Process**
1. Download SonicInput-v0.3.2-win64.exe
2. Close old version, replace executable
3. Launch app (config auto-applied)

**Notes**
- Fully compatible with v0.3.0/v0.3.1 configs
- No manual settings adjustment needed
- Direct replacement ready to use

### System Requirements

**Minimum**
- Windows 10 64-bit
- Intel Core i3 or equivalent CPU
- 4GB RAM
- 500MB disk space

**Recommended**
- Windows 11 64-bit
- Intel Core i5 or AMD Ryzen 5
- 8GB RAM
- 1GB disk space

### Technical Support

**Configuration and Logs**
- Config: `%AppData%\SonicInput\config.json`
- Logs: `%AppData%\SonicInput\logs\app.log`
- Models: `%AppData%\SonicInput\models/`

**Documentation**
- [Project README](README.md)
- [CLAUDE.md](CLAUDE.md) - Developer documentation

**Issue Reporting**
- GitHub Issues: [Submit Issue](https://github.com/Oxidane-bot/SonicInput/issues)

---

**核心改进总结**: v0.3.2 修复云转录关键 bug（Groq/SiliconFlow/Qwen）,新增配置热重载功能,优化本地与云提供商处理逻辑,确保 100% 转录成功率和更好的用户体验。

**Core Improvements**: v0.3.2 fixes critical cloud transcription bug (Groq/SiliconFlow/Qwen), adds config hot-reload, optimizes local/cloud provider handling, ensuring 100% transcription success rate and better user experience.
