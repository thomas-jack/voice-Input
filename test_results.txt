============================= test session starts =============================
collecting ... collected 131 items / 39 deselected / 92 selected

tests/test_basic_functionality.py::test_basic_imports PASSED             [  1%]
tests/test_basic_functionality.py::test_di_container_creation PASSED     [  2%]
tests/test_basic_functionality.py::test_event_system PASSED              [  3%]
tests/test_basic_functionality.py::test_config_loading PASSED            [  4%]
tests/test_basic_functionality.py::test_audio_service_mock PASSED        [  5%]
tests/test_basic_functionality.py::test_whisper_service_mock PASSED      [  6%]
tests/test_basic_functionality.py::test_state_management PASSED          [  7%]
tests/test_basic_simple.py::test_di_container PASSED                     [  8%]
tests/test_basic_simple.py::test_event_constants PASSED                  [  9%]
tests/test_basic_simple.py::test_basic_mock_services PASSED              [ 10%]
tests/test_basic_simple.py::test_recording_states PASSED                 [ 11%]
tests/test_bug_regression.py::TestBugFixes::test_bug_second_recording_works PASSED [ 13%]
tests/test_bug_regression.py::TestBugFixes::test_bug_audio_level_type_is_float PASSED [ 14%]
tests/test_bug_regression.py::TestBugFixes::test_bug_overlay_displays_on_recording PASSED [ 15%]
tests/test_cloud_transcription_services.py::test_factory_create_local_service PASSED [ 16%]
tests/test_cloud_transcription_services.py::test_factory_create_groq_service PASSED [ 17%]
tests/test_cloud_transcription_services.py::test_factory_groq_requires_api_key PASSED [ 18%]
tests/test_cloud_transcription_services.py::test_factory_unsupported_provider PASSED [ 19%]
tests/test_cloud_transcription_services.py::test_factory_from_config_local PASSED [ 20%]
tests/test_cloud_transcription_services.py::test_factory_from_config_groq PASSED [ 21%]
tests/test_cloud_transcription_services.py::test_factory_from_config_no_api_key_fallback FAILED [ 22%]
tests/test_cloud_transcription_services.py::test_factory_local_fallback PASSED [ 23%]
tests/test_cloud_transcription_services.py::test_groq_service_initialization PASSED [ 25%]
tests/test_cloud_transcription_services.py::test_groq_available_models PASSED [ 26%]
tests/test_cloud_transcription_services.py::test_groq_load_model_success PASSED [ 27%]
tests/test_cloud_transcription_services.py::test_groq_load_model_no_api_key PASSED [ 28%]
tests/test_cloud_transcription_services.py::test_groq_load_model_invalid_model PASSED [ 29%]
tests/test_cloud_transcription_services.py::test_groq_transcribe_success PASSED [ 30%]
tests/test_cloud_transcription_services.py::test_groq_transcribe_auto_language PASSED [ 31%]
tests/test_cloud_transcription_services.py::test_groq_transcribe_api_error PASSED [ 32%]
tests/test_cloud_transcription_services.py::test_groq_transcribe_model_not_loaded PASSED [ 33%]
tests/test_cloud_transcription_services.py::test_groq_numpy_to_wav_conversion PASSED [ 34%]
tests/test_cloud_transcription_services.py::test_groq_numpy_to_wav_float_conversion PASSED [ 35%]
tests/test_cloud_transcription_services.py::test_groq_convert_segments_dict_format PASSED [ 36%]
tests/test_cloud_transcription_services.py::test_groq_convert_segments_object_format PASSED [ 38%]
tests/test_cloud_transcription_services.py::test_groq_convert_segments_no_segments PASSED [ 39%]
tests/test_cloud_transcription_services.py::test_groq_unload_model PASSED [ 40%]
tests/test_cloud_transcription_services.py::test_groq_is_model_loaded_property PASSED [ 41%]
tests/test_cloud_transcription_services.py::test_groq_on_demand_initialization PASSED [ 42%]
tests/test_cloud_transcription_services.py::test_groq_pre_initialization_vs_on_demand PASSED [ 43%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_complete_recording_to_input_workflow PASSED [ 44%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_streaming_recording_chunks PASSED [ 45%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_ai_optimization_integration PASSED [ 46%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_clipboard_input_workflow PASSED [ 47%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_error_handling_in_workflow PASSED [ 48%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_event_driven_workflow PASSED [ 50%]
tests/test_end_to_end_workflow.py::TestEndToEndWorkflow::test_performance_metrics_tracking PASSED [ 51%]
tests/test_event_listener_regression.py::test_event_listener_signatures PASSED [ 52%]
tests/test_event_listener_regression.py::test_dynamic_event_system_callback_compatibility PASSED [ 53%]
tests/test_event_listener_regression.py::test_voice_input_app_event_listeners PASSED [ 54%]
tests/test_event_listener_regression.py::test_main_window_event_listeners 